{% extends '_layout.njk' %}

{% from "govuk/components/breadcrumbs/macro.njk" import govukBreadcrumbs %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/warning-text/macro.njk" import govukWarningText %}

{% block beforeContent %}

<div class="govuk-width-container app-width-container">
  <div class="govuk-phase-banner">
    <p class="govuk-phase-banner__content">
      <strong class="govuk-tag govuk-phase-banner__content__tag">
        Alpha
      </strong>
      <span class="govuk-phase-banner__text">
        This is a new service - your <a class="govuk-link--no-visited-state" href="">feedback</a> will help us to improve it.
      </span>
    </p>
  </div>
</div>

  {{ govukBreadcrumbs({
    items: [
      {
        text: "Home",
        href: "#"
      }]
  }) }}

{% endblock beforeContent %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <h1 class="govuk-heading-xl">Your message history</h1>
        <div class="govuk-grid-column-full">
          <table class="govuk-table">
            <thead class="govuk-table__head">
              <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Message</th>
                <th scope="col" class="govuk-table__header">Date received</th>
              </tr>
            </thead>
            <tbody class="govuk-table__body">

              {% for message in messages %}

              <tr class="govuk-table__row action"> 
                <td class="govuk-table__cell"><a class="govuk-link--no-visited-state" href="/messages/{{ message.messadeId }}">{{ message.content.heading }}</a></td>
                <td class="govuk-table__cell">{{ message.requestedDate }}</td>
              </tr>

              {% endfor %}

            </tbody>
          </table>
          <nav class="govuk-pagination govuk-pagination--block" role="navigation" aria-label="Pagination" data-module="ga4-link-tracker" data-ga4-link-tracker-module-started="true">

            <div class="govuk-pagination__next">
              <a class="govuk-link--no-visited-state govuk-pagination__link" href="#" rel="next" data-track-category="contentsClicked" data-track-action="next" data-track-label="#" data-track-dimension="next" data-track-dimension-index="29" data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;previous and next&quot;,&quot;text&quot;:&quot;2 of 3&quot;,&quot;section&quot;:&quot;Next&quot;}">
                <svg class="govuk-pagination__icon govuk-pagination__icon--next" xmlns="http://www.w3.org/2000/svg" height="13" width="15" aria-hidden="true" focusable="false" viewBox="0 0 15 13">
                  <path d="m8.107-0.0078125-1.4136 1.414 4.2926 4.293h-12.986v2h12.896l-4.1855 3.9766 1.377 1.4492 6.7441-6.4062-6.7246-6.7266z"></path>
                </svg>
                  <span class="govuk-pagination__link-title">Next page</span>
                  <span class="govuk-visually-hidden">:</span>
                  <span class="govuk-pagination__link-label">1 of 2</span>
              </a>
            </div>
          </nav>
        </div>
      </div>
    </div>
  </div>
  
{% endblock %}